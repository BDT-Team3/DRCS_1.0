Connect to california DB:

docker ps
docker exec -it disastercoordinationsystem-postgres-1 psql -U gruppo3 -d california_db

\dt
             List of relations
 Schema |      Name       | Type  |  Owner  
--------+-----------------+-------+---------
 public | macroareas      | table | gruppo3
 public | microareas      | table | gruppo3
 public | n_sens_stations | table | gruppo3
 public | stations        | table | gruppo3
(4 rows)

SELECT * FROM macroareas;
 macroarea_id |  min_long   |  min_lat  |  max_long   |  max_lat  | numof_microareas 
--------------+-------------+-----------+-------------+-----------+------------------
 A1           | -124.694824 | 39.901309 | -122.145996 |  41.99216 |              100
 A2           | -122.145996 | 38.453589 | -119.959717 | 39.901309 |               63
 A3           |  -123.87085 | 37.570705 | -122.113037 | 39.901309 |               84
 A4           | -121.349487 | 37.219393 | -119.245605 | 38.363195 |               54
 A5           | -119.278564 |  33.11915 | -116.466064 | 34.903953 |              108
(5 rows)


SELECT * FROM Microareas ORDER BY macroarea_id;
 microarea_id | macroarea_id |      min_long       |      min_lat       |      max_long       |      max_lat       
--------------+--------------+---------------------+--------------------+---------------------+--------------------
 A1-M70       | A1           |        -122.4008788 |         41.1558196 |         -122.145996 | 41.364904700000004
 A1-M71       | A1           |         -124.694824 |         41.3649047 | -124.43994119999999 |         41.5739898
 A1-M80       | A1           |        -122.4008788 |         41.3649047 |         -122.145996 |         41.5739898
 A1-M81       | A1           |         -124.694824 |         41.5739898 | -124.43994119999999 |         41.7830749
 A1-M82       | A1           | -124.43994119999999 |         41.5739898 | -124.18505839999999 |         41.7830749
 A1-M83       | A1           |        -124.1850584 |         41.5739898 |        -123.9301756 |         41.7830749
 A1-M84       | A1           |        -123.9301756 |         41.5739898 |        -123.6752928 |         41.7830749
 A1-M85       | A1           |        -123.6752928 |         41.5739898 | -123.42040999999999 |         41.7830749
 A1-M86       | A1           |          -123.42041 |         41.5739898 |        -123.1655272 |         41.7830749
 A1-M87       | A1           |        -123.1655272 |         41.5739898 |        -122.9106444 |         41.7830749



SELECT * FROM stations LIMIT 20;
  station_id  | microarea_id |      latitude      |      longitude      | install_date |     model      |   temp_sens   |  hum_sens   |   co2_sens   |  pm25_sens   | smoke_sens  |   ir_sens   | elevation_m | battery_type | status 
--------------+--------------+--------------------+---------------------+--------------+----------------+---------------+-------------+--------------+--------------+-------------+-------------+-------------+--------------+--------
 S_A3-M50_047 | A3-M50       | 38.949964688150686 |  -123.8327270208572 | 2023-12-11   | EnviroNode-X   | TempPro-A1    | AirSense-H2 | GreenAir-300 | Dusty-X      | AlarmX      | IRFlame-900 |      299.76 | Li-Ion       | active
 S_A3-M50_048 | A3-M50       | 39.039988997762826 | -123.81443342020006 | 2023-07-06   | FireWatch-Pro  | TempPro-A1    | MoistTrack  | CarbonIQ     | PartTrack    | SmkSensePro | IRFlame-900 |      424.96 | Li-Ion       | active
 S_A3-M50_049 | A3-M50       |  39.09580032451604 |  -123.6995334077697 | 2024-07-08   | FireWatch-Pro  | TempPro-A1    | AirSense-H2 | CO2Safe-50   | EnviroPM     | SensoSmoke  | FlareSense  |      545.74 | Li-Ion       | active
 S_A3-M50_050 | A3-M50       |  39.11370394917214 | -123.84608858686583 | 2024-12-26   | EnviroNode-X   | ClimaWatch-3  | DHT22       | GreenAir-300 | EnviroPM     | SmkSensePro | IRFlame-900 |      791.64 | Grid Power   | active
 S_A3-M50_051 | A3-M50       |  38.93644468490479 |  -123.7209411332716 | 2024-12-07   | FireWatch-Pro  | HeatTrack-200 | HumidX-100  | GreenAir-300 | EnviroPM     | SmkSensePro | PyroWatch   |      204.86 | Li-Ion       | active
 S_A3-M50_052 | A3-M50       | 39.104581291442045 |  -123.7777256504975 | 2022-03-11   | PyroScan-MKII  | ClimaWatch-3  | EnviroHum   | CO2Safe-50   | PartTrack    | FlameSniff  | IRFlame-900 |       69.49 | Solar        | active
 S_A3-M50_053 | A3-M50       |  39.04790161278701 | -123.64855128207834 | 2024-04-07   | EnviroNode-X   | ThermoPlus    | DHT22       | GasTrack-X   | AirFine-25   | SensoSmoke  | ThermEye    |      470.44 | Grid Power   | active
 S_A3-M50_054 | A3-M50       |  39.12195868701062 | -123.67549216942169 | 2025-07-26   | FireWatch-Pro  | ClimaWatch-3  | MoistTrack  | GasTrack-X   | AirFine-25   | SmkSensePro | IRFlame-900 |      456.08 | Grid Power   | active
 S_A3-M50_055 | A3-M50       |  38.99642886498869 | -123.72250043596449 | 2025-07-25   | PyroScan-MKII  | T-SenseX      | MoistTrack  | AQM-CO2      | Dusty-X      | AlarmX      | IRFlame-900 |      516.42 | Grid Power   | active
 S_A3-M50_056 | A3-M50       | 38.999291656810506 | -123.64972403853062 | 2023-12-11   | PyroScan-MKII  | T-SenseX      | DHT22       | GreenAir-300 | AirFine-25   | FlameSniff  | IRFlame-900 |       125.3 | Solar        | active
 S_A3-M50_057 | A3-M50       |  38.98784585727342 | -123.77889190951721 | 2025-07-24   | ForestSentinel | ClimaWatch-3  | EnviroHum   | CarbonIQ     | ClearAir-100 | SensoSmoke  | FlareSense  |      661.38 | Li-Ion       | active
 S_A3-M50_058 | A3-M50       | 39.078142087395065 | -123.78528487621523 | 2022-11-16   | FireWatch-Pro  | HeatTrack-200 | AirSense-H2 | GasTrack-X   | Dusty-X      | AlarmX      | IRFlame-900 |      344.54 | Li-Ion       | active
 S_A3-M50_059 | A3-M50       | 38.955764327003514 | -123.68199253895875 | 2025-09-04   | PyroScan-MKII  | ThermoPlus    | DHT22       | GreenAir-300 | ClearAir-100 | AlarmX      | HeatSig     |      706.08 | Li-Ion       | active
 S_A3-M50_060 | A3-M50       |   38.9308926660649 | -123.84513379502786 | 2022-02-02   | EnviroNode-X   | TempPro-A1    | EnviroHum   | CO2Safe-50   | AirFine-25   | FlameSniff  | FlareSense  |       147.5 | Solar        | active
 S_A3-M50_061 | A3-M50       |  38.94916366708302 | -123.74568435633537 | 2025-01-25   | FireWatch-Pro  | HeatTrack-200 | DHT22       | CarbonIQ     | PartTrack    | SensoSmoke  | IRFlame-900 |      575.63 | Solar        | active
 S_A3-M50_062 | A3-M50       |  39.09224536719055 | -123.63547721247532 | 2024-06-10   | PyroScan-MKII  | HeatTrack-200 | HumidX-100  | CO2Safe-50   | AirFine-25   | SmkSensePro | FlareSense  |      419.77 | Li-Ion       | active
 S_A3-M50_063 | A3-M50       |  39.05003187590928 | -123.71674692802195 | 2025-11-26   | PyroScan-MKII  | ThermoPlus    | AirSense-H2 | CO2Safe-50   | Dusty-X      | SmokeCheck  | FlareSense  |      150.93 | Li-Ion       | active
 S_A3-M50_064 | A3-M50       |  39.05092515846135 | -123.78371883919947 | 2022-07-01   | WildSense-3000 | ClimaWatch-3  | HumidX-100  | GasTrack-X   | Dusty-X      | SmkSensePro | ThermEye    |      458.33 | Solar        | active
 S_A3-M50_065 | A3-M50       |  38.96324238051866 |  -123.6879548928062 | 2025-10-04   | ForestSentinel | HeatTrack-200 | HumidX-100  | CarbonIQ     | AirFine-25   | AlarmX      | ThermEye    |       99.43 | Grid Power   | active
 S_A3-M50_066 | A3-M50       |  38.93135240177735 | -123.66269323927928 | 2023-09-20   | FireWatch-Pro  | ClimaWatch-3  | MoistTrack  | GasTrack-X   | Dusty-X      | AlarmX      | FlareSense  |      608.22 | Grid Power   | active


SELECT * FROM n_sens_stations;
 microarea_id | macroarea_id | numof_sens_stations 
--------------+--------------+---------------------
 A1-M1        | A1           |                  77
 A1-M2        | A1           |                  95
 A1-M3        | A1           |                 100
 A1-M4        | A1           |                  72
 A1-M5        | A1           |                  84
 A1-M6        | A1           |                  83
 A1-M7        | A1           |                  55
 A1-M8        | A1           |                  80
 A1-M9        | A1           |                  72
 A1-M10       | A1           |                  85
 A1-M11       | A1           |                  99
 
 
measurement json type
 
 {
  "station_id": "S_A3-M50_047", // Unique identifier used to join with dimensional table
  "timestamp": "2025-05-07T00:00:00Z", // ISO 8601 timestamp for the measurement record

  "measurements": {
    "temperature_c": null,         // Ambient temperature in degrees Celsius
    "humidity_percent": null,      // Relative humidity percentage
    "co2_ppm": null,               // Carbon dioxide concentration in parts per million
    "pm25_ugm3": null,             // PM2.5 concentration in micrograms per cubic meter
    "smoke_index": null,           // Composite index for smoke presence, scale 0-100
    "infrared_intensity": null,    // Normalized IR signal strength indicating possible flame activity
    "battery_voltage": null        // Voltage of the power source, useful for health monitoring
  },

  "metadata": {
    "detection": {
      "wildfire_detected": false,     // True if sensor fusion indicates an active fire nearby
      "smoke_detected": false,        // True if smoke levels exceed threshold
      "flame_detected_ir": false,     // True if IR or thermal sensor confirms flame presence
      "severity_score": 0.0,          // A score from 0.0 to 10.0 indicating event criticality
      // Meaning:
      //  0.0 - Normal condition
      //  1-3 - Minor anomalies (e.g., haze)
      //  4-6 - Moderate concern, probable fire or dense smoke
      //  7-9 - High danger, emergency likely
      //  10  - Confirmed wildfire or major event

      "detection_confidence": 0.0,    // Confidence level (0.0 to 1.0) of the detection algorithm
      "air_quality_index": null,      // Standardized AQI (0â€“500) based on PM2.5 and gas levels

      "anomaly_detected": false,      // True if something unexpected occurred (signal drop, spike, etc.)
      "anomaly_type": null            // String describing the anomaly, e.g.:
      //  - "sensor_failure"
      //  - "data_gap"
      //  - "communication_error"
      //  - "sudden_spike"
      //  - "power_drop"
    }
  },

  "system_response": {
    "event_triggered": null,          // System-level event triggered based on detections
    // Possible values:
    //  - "early_warning": low-confidence detection triggered an early notification
    //  - "alert_sent": confirmed detection has led to an official alert
    //  - "evacuation_suggested": system suggests evacuation due to high severity
    //  - "sensor_check": anomaly detected in the sensor's data
    //  - "test_signal": manually triggered event for testing purposes
    //  - null: no event triggered

    "response_timestamp": null,       // Timestamp of when the system took the action
    "action_taken": null,             // High-level action executed, e.g.:
    //  - "none"
    //  - "notification_sent"
    //  - "firefighters_alerted"
    //  - "data_flagged"
    //  - "evacuation_alert"
    
    "automated": true                 // Whether the response was triggered autonomously (true) or manually (false)
  }
}

